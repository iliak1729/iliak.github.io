<!DOCTYPE html>
<html>
    <head>
        <title>Ilia Kheirkhah's Portfolio</title>
        <link href = "/StyleSheet.css" rel="stylesheet">
        <link href = "/ENM344/Homework 5/Homework5Style.css" rel="stylesheet">
    </head>
    <body style = "background-color: #E2E6E8">
        <table>
            <tbody>
                <tr valign = "top">
                    <td class = "sidebar">
                        <a href = "/index.html">Home<br></a>
                        <a href = "/proj.html"> Projects<br></a>
                        <a href = "/education.html">Education</a>
                    </td>
                    <td class = "center">
                        <h1 style = "text-align : center">Effects of Climate Change on Animal Biodiversity <br> A Swordfish Case Study</h1>
                        <h2>Introduction</h2>
                        <p>
                            Biodiversity is a measure of how diverse something is, based on the amount of different organisms.
                            Normally, this could be anything ranging from animals to plants to even microorganisms. Animal Biodiversity
                            specifically looks at the diversity of animals, ignoring plants and other non-animal species. Today, we will look at
                            how climate change influences Animal Biodiversity. To do this, we will take a case study looking at Xiphius Gladius, more 
                            commonly known as the Swordfish.
                        </p>
                        <p>
                            It is known that climate influences animal behavior. For example, studies have shown that climate change has been influencing 
                            the migratory patterns of birds [1]. In this paper, researched show that climate change has begun to delay the flight of 
                            certain bird species. As a result, the birds can travel more than 40% faster. This increases their energy usage and, as a result, 
                            increases the mortality rate by about 6%. This is a direct example of how climate change can influence animals. 
                        </p>
                        <p>
                            In the remainder of this assignment, we will explore the effects of climate change on Swordfish Population. 
                            We will look at two datasets - one for temperature variation and one for population variation, both over time - independently
                            and then combine them to get a full picture. We will conduct both Null Hypothesis Significance Testing (NHST) and bootstrapping 
                            to compare the results they give. 
                        </p>
                        <h2>Climate Change Data</h2> <!-- CLIMATE DATA TALK-->
                        <figure style ="float:right; text-align:center; ">
                            <img src = "/ENM344/Homework 5/Images/GlobalTempTrend.png" class = "feat">
                            <figcaption>Figure 1: Average Surface Temperature Trend</figcaption>
                        </figure>
                        <p>
                            We will begin by looking at data more people are familiar with - Climate Data. This data was found on the
                            International Monetary Fund's Climate Change Dashboard [2]. If we look at Figure 1,
                            one can see the data points we had corresponding to changes in global temperature by year. Most reports of
                            this data have records as far back as 1960's and going up to modern day temperatures, I have trimmed the 
                            data to only include the years where we have corresponding Swordfish Population Data. WIthin this range,
                            we are reporting the temperature change, relative to a previous average temperature value.
                        </p>
                        <p>
                            One can  see that there is a clear positive correlation in this data. Since this project is not to 
                            prove climate change, we have not conducted a significant analysis of the climate data. However, it is clear
                            to see that there is a clear temperature increase in the years we are looking at. Given this, we can at the very least
                            conclude that, if we reach statistical significance, the conclusion we make is valid if temperatures are increasing.
                            However, we will take climate change as sufficiently proven and refer to this temperature increase as climate change from
                            here on. 
                        </p>
                        <p>
                            Finally, an intersting thing to note about this data is that it is occuring at the start of a significant increase
                            in the rate of climate change. Leading up to 1992, the temperature increase was much slower. However, starting in 1992
                            and continuing to modern day, we can see a significant increase in the peak temperature increase and the rate of temperature
                            change. This gives worrying prospects for climate change that future analysis could look into.
                        </p>
                        <h2>Swordfish Population Data</h2> <!-- SWORDFISH DATA TALK-->
                        <figure style ="float:right; text-align:center; ">
                            <img src = "/ENM344/Homework 5/Images/PopulationTrends.png" class = "feat">
                            <figcaption>Figure 2: Swordfish Population by year</figcaption>
                        </figure>
                        <p>
                            The second data set, and the one that narrows the scope of this discussion, is the Swordfish Population Data.
                            This was taken from the BioTIME website [3]. This data set is a collection of many different studies, each 
                            contributing to the data availble. There are about 380 different studies included in this dataset. Each one 
                            uses different methods, different time scales, and looks for different things. In most cases, this could introduce
                            many confounding variables to our analysis. If many studies are mixed without care, assumptions made in one study could
                            conflict with those made in another. However, in the case of Xiphius Gladius, all the data was provided by the NOAA Southeast Fishery Science Center [4]. 
                            This removes all study related confounding varaibles as they maintained consistency in their methods. 
                        </p>
                        <p>
                            Looking at the Figure 2, we see that there is a steady decline in population in the survey area starting in 1996.
                            From this point to the end of our sample, we can watch the population be cut in half. Although this is a signfiicant
                            reduction in population, it is not necessary clear yet that climate change is the cause. For example, fishermen could
                            have been fishing up more Swordfish due to increased demand in this period of time. Many things other than climate change
                            can cause a significant change in population. We will take a deeper look at this in the next section.
                        </p>
                        <h2 style = "clear:both">Combined Analysis - Null Hypothesis Significance Testing </h2> <!--NHST TALK-->
                        <p>
                            Null Hypothesis Significance Testing (NHST) is a tool for determining the statistical power of a result.
                            It helps us determine if the data logically leads to the conclusion we would like to make. The Null
                            Hypothesis is generally the opposite of what you are trying to prove. In this case, our Null Hypothesis would 
                            be that Climate change does <i>not</i> have a negative impact on Swordfish population. Once the Null Hypothesis is established,
                            one conducts different tests depending on the type of data. Regardless of the test, one generally ends with a p-value. 
                            If this p-value is below some critical value, generally 0.05, then the Null Hypothesis is rejected and we claim that 
                            our data supports the true claim we were making (Climate change decreases Swordfish Population).
                        </p>
                        <figure style ="float:right; text-align:center; ">
                            <img src = "/ENM344/Homework 5/Images/CombinedDataGraph.png" class = "feat">
                            <figcaption>Figure 3: Combined Data</figcaption>
                        </figure>
                        <p>
                            Before we conduct a NHST, we need to combine our data into a single dataset. Currently we have temperature data by 
                            year and population data by year. If we take the temperature and population from corresponding years, we can stitch
                            together a single dataset that looks at population with respect to temperature change. This allows us to remove year from the variable. The resulting
                            graph can be seen in Figure 3. From here, we want to establish a significant correlation 
                            between our two variables. To do this, one uses Pearson's Correlation Coefficient.
                        </p>
                        
                        <p>
                            Pearson's Correlation Coefficient is a common choice when attempting to determine correlations. However, it does have some
                            limiting assumptions that one needs to take into account. The most important limitation here is that the Pearson Correlation
                            Coefficient can only capture linear correlations. Due to the nature of animals, I expect population data with respect to temperature 
                            change to have a bell curve shape. In this case, large temperature changes, in either direction, lead to small population. However, due 
                            to the relatively small temperature range for our data and the nature of how our data looks, I believe a linear approximation is
                            sufficient. 
                        </p>
                        <p>
                            When we calculate the Pearson Correlation Coefficient for our combined data, we get a value of approximately -0.75.
                            If this is significant, this means we have a very clear negative correlation between temperature increase and population, meaning 
                            our analysis shows the negative impacts of Climate Change on Swordfish. To determine this significance, we calculate our 
                            t-statistic. This is a measure used to determine the statistical significance. The connection to our p-value is complex. However, 
                            by running a numerical solver one can find that our p-value for this test, where we have 14 Sample Points would be 0.001. 
                        </p>
                        <p>
                            Since we have a p-value of 0.001, which is well below the threshold of 0.05 we set, one would claim statistical significance.
                            The Null Hypohteisis would be rejected and our alternative hypothesis, that Climate Change negatively impacts Swordfish, would be
                            accepted by the data. This is intuitive due to the fact that any animal has a speciifc temperature range they like to live at.
                            When Climate Change raises the average temperature around the world, animals move away from places that are now too hot for them.
                            This is why it is extremely important for Biodiversity to minimize the influence of Climate Change.
                        </p>
                        <h2>Combined Analysis - Bootstrapping</h2>
                        <p>
                            Bootstrapping is a much simpler method for testing statistical significance. To use Bootstrapping, one makes a new sample
                            from the data they have. To do this, simply pick N values from the samples you already have to make a new data set. We make
                            these selections randomly and with replacement, so repeated points can appear. Generally, one picks N to be the same as the number 
                            of sample points one has, so it is like running the entire experiment again. We repeat this many times (one million times for our case)
                            to get a scope of the probability distribution of getting different correlation values given the sample points we have. From here, we 
                            can claim this distribution is representative of the true, hidden distribution of our data and use it to determine statistical significance.
                        </p>
                        <p>
                            When bootstrapping is performed, we get a p-value of 0.55. This is significantly higher than the 0.05 threshold we set for
                            significance. As such, we would generally say that our data is not conclusive and no claims can reasonably be made. However,
                            this puts us in an interesting situation where Bootstrapping and Null Hypothesis Significance Testing give us different answers
                            to the same question. This begs the question: which one do we trust?
                        </p>
                        <h2>Comparison</h2>
                        <p>
                            Null Hypothesis Significance Testing has been used for many years and in many fields. It is trusted and established. 
                            The methods have been studied and evaluated significantly. However, it is often a round-about measure of significance.
                            The analysis that comes from NHST sometimes seems arbitrary and the numbers seem to come from thin air. On the other hand,
                            bootstrapping is a much simpler and more elegant method of calculating statistical significance. However, since it 
                            sometimes double counts points, one could question the viability of simmple bootstrapping for time-series data that has been combined.
                        </p>
                        <p>
                            Each method has limitations and benefits. However, I believe that for our applications, Null Hypothesis Significance Testing
                            is more meaningful. Our data is very noisy and broadly spread. By double counting points and leaving certain points out in bootstrapping,
                            the distribution of our correlation coeffficients is greatly altered. This means that bootstrapping gives an unrealistic representation
                            of our true distribution and an unrealistically high p-value. Of course, further looks into how the sample size and non-linearity of the population 
                            data would influence our results is necessary. However, the results we are getting with NHST should not be ignored as they show that 
                            we have significant proof of the influence of Cllimate Change on Swordfish Population.
                        </p>
                        <h2>Conclusion</h2>
                        <p>
                            In this assignment, we found two data sources which we combined to look at how Swordfish population reacts to Climate Change.
                            We conducted both a Null Hypothesis Significance test and Bootstrapping to determine significance. Once they each gave conflicting results,
                            we looked at the features of each method and decided to reject bootstrapping due to the nature of our data. From here, NHST allowed us to 
                            establish significance in our results. Going forward, a larger sample size would be a great addition to this project, as in every project.
                            Further analysis of bootstrapping methods particularly geared towards time-series data could also help provide better insight into 
                            the power of our results. Finally, looking at other species could provide us insights into the breadth of the impact Climate Change has 
                            on Animal Biodiversity.
                        </p>
                        <h2>ChatGPT</h2>
                        <p>
                            For this assignment, as with all other assignments for the class, ChatGPT was consistently used throughout
                            the analysis process. The first, and most major, contribution of ChatGPT was helping plan out the Null Hypothesis 
                            significance Testing. Since I did not have significant knowledge in this type of analysis, ChatGPT was very helpful
                            for finding theh relevant tests and learning about the necessary equations. It also gave me great feedback on how to 
                            implement these methods in python. The response that was primarily used as the template for my NHST can be found in 
                            Figure N. Here, we see that ChatGPT could break the process up into clear steps.
                        </p>
                        <p>
                            In addition to the planning, ChatGPT was also useful in revising code. This was particularly useful when implementing
                            the bootstrapping algorithm. Since bootstrapping is fairly simple and short, I could provide ChatGPT all of code and
                            have it fix the code when I ran into errors that I did not understand. In my prompts, I made sure to make ChatGPT
                            explain the errors to me. This allowed me to fill in my Python Gaps while not spending too long searching for solutions.
                            This made the work flow much quicker as I could use ChatGPT to fill in the occasional problem like a coding autofill
                            instead of having to debug or find established solutions on other websites. This code output from ChatGPT also comes
                            out very neat, adhering to the naming I had used as seen in Figure M. This made it much easier to simply paste the code
                            in and have my problem be fixed.
                        </p>
                        <figure style ="float:left; text-align:center; ">
                            <img src = "/ENM344/Homework 5/Images/ChatGPTNHST.png" class = "feat">
                            <figcaption>Figure N: ChatGPT NHST</figcaption>
                        </figure>
                        <figure style ="float:right; text-align:center; ">
                            <img src = "/ENM344/Homework 5/Images/ChatGptCodeRevision.png" class = "feat">
                            <figcaption>Figure M: ChatGPT Reivisng Code</figcaption>
                        </figure>
                        <h2 style = "clear: both">Satisfaction</h2>
                        <p>
                            An important part of this assignment was that we were not answering our professor's equation nor a question we had ourselves.
                            Instead, we were answering a question for one of my classmates and hoping to give them a satisfying response. Initially, I
                            worked with my partner to understand exactly what they wanted. This can be seen in Figure K below. In this email, I understood 
                            that they were particularly interested in climate change at large. I recognize that they were looking for something related to animals
                            for their question. However, the general approach of looking at all animals would have been too broad for this project. To stay
                            in line with the climate focus, I decided to focus on a specific species of animal, the Swordfish, where significant data was available.
                            <figure style ="float:center; text-align:center; ">
                                <img src = "/ENM344/Homework 5/Images/NegotiationEmails.png" class = "feat">
                                <figcaption>Figure 1: Average Surface Temperature Trend</figcaption>
                            </figure>
                        </p>
                        <p>
                            Once I had completed the analysis and blog post, I shared the results with them. 
                            My partner told me that they were very happy with the results and had no complaints.
                            This was a great experience to learn what people wanted and how to make compromises that would 
                            make both groups happy in the analysis process. 
                        </p>
                        <h2>Appendix</h2>
                        <h3>Data and Code</h3>
                        <p>
                            Data for this analysis was found at two sources. The first dataset, which contained climate change data, 
                            on the <a href = "https://climatedata.imf.org/pages/access-data" target="_blank">Climate Change Indicators Dashboard</a>.
                            It can also be accessed directly <a href = "/ENM344/Homework 5/Code/Annual_Surface_Temperature_Change.csv" target="_blank">here.</a>
                            <br> <br>
                            The second dataset contained the population of Swordfish for various years. I extracted the data directly from the BioTIME datase.
                            Raw data in addition to plenty of data about other species can be found on the <a href = "https://biotime.st-andrews.ac.uk/download.php" target = "_blank">BioTIME website.</a> 
                            The data I have downloaded is too large for Github, so all files should be taken from here However, all the data found for Swordfish was specifically creditted to the 
                            <a href = "https://www.fisheries.noaa.gov/science-and-data" target = "_blank">NOAA Southeast Fishery Science Center.</a>
                            <br> <br>
                            All the data above is time-series data by time. I combined the data within my code to get useful and specific results.
                            All analysis was done using <a href = "/ENM344/Homework 5/Code/Analysis.py" target = "_blank">this code.</a>
                        </p>
                        <h3>Sources</h3>
                        <p><!-- Bird Migration Citation-->
                            <cite>[1] B. C. Dossman, A. D. Rodewald, C. E. Studds, and P. P. Marra, “Migratory birds with delayed spring departure migrate faster but pay the costs,” Ecology, vol. 104, no. 2. Wiley, Jan. 05, 2023. doi: 10.1002/ecy.3938.</cite>
                        </p>
                        <p> <!-- Climate Data Citation-->
                            <cite>[2] International Monetary Fund. 2022.Climate Change Indicators Dashboard. Annual Surface Temperature Change, https://climatedata.imf.org/pages/access-data. Accessed on [2023-11-02]. </cite>
                        </p>
                        <p><!-- BioTIME citation-->
                            <cite>[3] M. Dornelas et al., “BioTIME: A database of biodiversity time series for the Anthropocene,” Global Ecology and Biogeography, vol. 27, no. 7. Wiley, pp. 760–786, Jul. 2018. doi: 10.1111/geb.12729.</cite>
                        </p> 
                        <p> <!-- Swordfish Data Citation-->
                            <cite>[4] N. Fisheries, “Southeast Pelagic Observer Program,” NOAA, https://www.fisheries.noaa.gov/southeast/fisheries-observers/southeast-pelagic-observer-program (accessed Nov. 5, 2023). </cite>
                        </p>  
                        <p> <!-- Swordfish Paper Citation-->
                            <cite>[5] M. J. Schirripa et al., “A hypothesis of a redistribution of North Atlantic swordfish based on changing ocean conditions,” Deep Sea Research Part II: Topical Studies in Oceanography, vol. 140. Elsevier BV, pp. 139–150, Jun. 2017. doi: 10.1016/j.dsr2.2016.08.002.</cite>
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        
    </body>
</html>
